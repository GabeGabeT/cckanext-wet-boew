{% ckan_extends %}

{% block secondary_content %}
  <div class="module">
    {{ self.secondary_content_inner() }}
  </div>
{% endblock %}

{% block user_heading %}
  <h3 class="align-center">{{ user.display_name }}</h3>
{% endblock %}

{% block user_nums %}
  <div class="span-2">
    <div class="span-1 row-start">
      <h4 class="align-center">{{ _('Followers') }}</h4>
      <p class="font-xlarge align-center">
        {{ h.SI_number_span(user.num_followers) }}
      </p>
    </div>
    <div class="span-1 row-start">
      <h4 class="align-center">{{ _('Datasets') }}</h4>
      <p class="font-xlarge align-center">
        {{ h.SI_number_span(user.number_administered_packages) }}
      </p>
    </div>
    <div class="clear"></div>
  </div>
  <div class="span-2">
    <div class="span-1 row-start">
      <h4 class="align-center">{{ _('Edits') }}</h4>
      <p class="font-xlarge align-center">
        {{ h.SI_number_span(user.number_of_edits) }}
      </p>
    </div>
    <div class="clear"></div>
  </div>
{% endblock %}

{% block user_follow %}
  <p>{{ super() }}</p>
{% endblock %}

{% block user_info %}
  <div class="span-2">
    <ul class="wet-boew-zebra">
      {% if user.name.startswith('http://') or user.name.startswith('https://') %}
        <li class="background-medium">{{ _('Open ID') }}</li>
        <li>{{ user.name|urlize(25) }}{# Be great if this just showed the domain #}</li>
      {% else %}
        <li class="background-medium">{{ _('Username') }}</li>
        <li>{{ user.name }}</li>
      {% endif %}
    {% if c.is_myself %}
      <li class="background-medium">{{ _('Email') }} <span class="label" title="{{ _('This means only you can see this') }}">{{ _('Private') }}</span></li>
      <li>{{ user.email }}</li>
    {% endif %}
      <li class="background-medium">{{ _('Member Since') }}</li>
      <li>{{ h.render_datetime(user.created) }}</li>
    {% if c.is_myself %}
      <li class="background-medium">{{ _('API Key') }} <span class="label" title="{{ _('This means only you can see this') }}">{{ _('Private') }}</span></li>
      <li class="value"><code>{{ user.apikey }}</code></li>
    {% endif %}

{% endblock %}
